<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
	<title>крестики нолики</title>
	<style>
		body {
		background-color: #0095b6; 
		}
		h1{
			text-align: center;
			color: #fff;
			font-size: 80px;
		}
		td{
			width: 200px;
			height: 200px;
			border-color: #8b6d5c;
			border-style: solid;
			border-width: 10px;
			font-size: 100px;
			color: white;
			text-align: center;
		}
		table{
			border-collapse: collapse;
			border-color: #00FFFF;
			border-style: solid;
			border-width: 11px;
			margin: auto;
		}
	</style>
</head>
<body>
	<h1>Крестики нолики</h1>
	<table >
		<tr>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td></td>
			<td></td>
			<td></td>
		</tr>
	</table>
	<script>
		cells = document.getElementsByTagName("td");
		for (i=0; i<cells.length; i++) {
			cells[i].addEventListener("click",myclick)
		}
		function myclick(){
			if (this.innerText == ""){
				this.innerText = "X";
				pobida();
				computermove();
			}
			//this.innerText = "x"
			//computermove();
		}
		function computermove(){
			//alert("Comp think!");
			var emptycells = [];//418849
			for (var i=0; i<cells.length; i++) {
				if(cells[i].innerText == "") emptycells.push(cells[i]);
			}
			console.log(emptycells);
			if (emptycells.length > 0) cells[ai()].innerText = "O";
			pobida();
		}
		function pobida(){
			if (( cells[0].innerText == "X" && cells[1].innerText == "X" && cells[2].innerText == "X")
				|| (cells[0].innerText == "X" && cells[3].innerText == "X" && cells[6].innerText == "X")
				|| (cells[0].innerText == "X" && cells[4].innerText == "X" && cells[8].innerText == "X")
				|| (cells[1].innerText == "X" && cells[4].innerText == "X" && cells[7].innerText == "X")
				|| (cells[2].innerText == "X" && cells[5].innerText == "X" && cells[8].innerText == "X")
				|| (cells[2].innerText == "X" && cells[4].innerText == "X" && cells[6].innerText == "X")
				|| (cells[3].innerText == "X" && cells[4].innerText == "X" && cells[5].innerText == "X")
				|| (cells[6].innerText == "X" && cells[7].innerText == "X" && cells[8].innerText == "X")) {
				alert("Вы победили");
			} else if (( cells[0].innerText == "O" && cells[1].innerText == "O" && cells[2].innerText == "O")
				|| (cells[0].innerText == "O" && cells[3].innerText == "O" && cells[6].innerText == "O")
				|| (cells[0].innerText == "O" && cells[4].innerText == "O" && cells[8].innerText == "O")
				|| (cells[1].innerText == "O" && cells[4].innerText == "O" && cells[7].innerText == "O")
				|| (cells[2].innerText == "O" && cells[5].innerText == "O" && cells[8].innerText == "O")
				|| (cells[2].innerText == "O" && cells[4].innerText == "O" && cells[6].innerText == "O")
				|| (cells[3].innerText == "O" && cells[4].innerText == "O" && cells[5].innerText == "O")
				|| (cells[6].innerText == "O" && cells[7].innerText == "O" && cells[8].innerText == "O")) {
				alert("Вы проиграли");
			} else if (( cells[0].innerText != "" && cells[1].innerText != "" && cells[2].innerText != "")
				&& ( cells[3].innerText != "" && cells[4].innerText != "" && cells[5].innerText != "")
				&& ( cells[6].innerText != "" && cells[7].innerText != "" && cells[8].innerText != "")) {
				alert("Ничья");
			}
		}
		function ai(){
			// победить боту
				// 1 ряд
			if ( cells[0].innerText == "O" && cells[1].innerText == "O"  && cells[2].innerText != "X") {return 2;} else	
			if ( cells[1].innerText == "O" && cells[2].innerText == "O"  && cells[0].innerText != "X") {return 0;} else		
			if ( cells[0].innerText == "O" && cells[2].innerText == "O"  && cells[1].innerText != "X") {return 1;} else
				// 2 ряд
			if ( cells[3].innerText == "O" && cells[4].innerText == "O"  && cells[5].innerText != "X") {return 5;} else		
			if ( cells[4].innerText == "O" && cells[5].innerText == "O"  && cells[3].innerText != "X") {return 3;} else		
			if ( cells[3].innerText == "O" && cells[5].innerText == "O"  && cells[2].innerText != "X") {return 2;} else
				// 3 ряд
			if ( cells[6].innerText == "O" && cells[7].innerText == "O"  && cells[8].innerText != "X") {return 8;} else		
			if ( cells[7].innerText == "O" && cells[8].innerText == "O"  && cells[6].innerText != "X") {return 6;} else		
			if ( cells[6].innerText == "O" && cells[8].innerText == "O"  && cells[7].innerText != "X") {return 7;} else	
				// 1 столб
			if ( cells[0].innerText == "O" && cells[3].innerText == "O"  && cells[6].innerText != "X") {return 6;} else	
			if ( cells[3].innerText == "O" && cells[6].innerText == "O"  && cells[0].innerText != "X") {return 0;} else		
			if ( cells[0].innerText == "O" && cells[6].innerText == "O"  && cells[3].innerText != "X") {return 3;} else
				// 2 столб
			if ( cells[1].innerText == "O" && cells[4].innerText == "O"  && cells[7].innerText != "X") {return 7;} else		
			if ( cells[4].innerText == "O" && cells[7].innerText == "O"  && cells[1].innerText != "X") {return 1;} else		
			if ( cells[1].innerText == "O" && cells[7].innerText == "O"  && cells[2].innerText != "X") {return 2;} else
				// 3 столб
			if ( cells[2].innerText == "O" && cells[5].innerText == "O"  && cells[8].innerText != "X") {return 8;} else		
			if ( cells[5].innerText == "O" && cells[8].innerText == "O"  && cells[2].innerText != "X") {return 2;} else		
			if ( cells[2].innerText == "O" && cells[8].innerText == "O"  && cells[5].innerText != "X") {return 5;} else
				// 1 диагональ
			if ( cells[0].innerText == "O" && cells[4].innerText == "O"  && cells[8].innerText != "X") {return 8;} else	
			if ( cells[4].innerText == "O" && cells[8].innerText == "O"  && cells[0].innerText != "X") {return 0;} else		
			if ( cells[0].innerText == "O" && cells[8].innerText == "O"  && cells[4].innerText != "X") {return 4;} else
				// 2 диагональ
			if ( cells[2].innerText == "O" && cells[4].innerText == "O"  && cells[6].innerText != "X") {return 6;} else		
			if ( cells[4].innerText == "O" && cells[6].innerText == "O"  && cells[2].innerText != "X") {return 2;} else		
			if ( cells[2].innerText == "O" && cells[6].innerText == "O"  && cells[4].innerText != "X") {return 4;} else 
			
			
			//не дать победить игроку
				// 1 ряд
			if ( cells[0].innerText == "X" && cells[1].innerText == "X" && cells[2].innerText != "O") {return 2;} else	
			if ( cells[1].innerText == "X" && cells[2].innerText == "X" && cells[0].innerText != "O") {return 0;} else		
			if ( cells[0].innerText == "X" && cells[2].innerText == "X" && cells[1].innerText != "O") {return 1;} else
				// 2 ряд
			if ( cells[3].innerText == "X" && cells[4].innerText == "X" && cells[5].innerText != "O") {return 5;} else		
			if ( cells[4].innerText == "X" && cells[5].innerText == "X" && cells[3].innerText != "O") {return 3;} else		
			if ( cells[3].innerText == "X" && cells[5].innerText == "X" && cells[2].innerText != "O") {return 2;} else
				// 3 ряд
			if ( cells[6].innerText == "X" && cells[7].innerText == "X" && cells[8].innerText != "O") {return 8;} else		
			if ( cells[7].innerText == "X" && cells[8].innerText == "X" && cells[6].innerText != "O") {return 6;} else		
			if ( cells[6].innerText == "X" && cells[8].innerText == "X" && cells[7].innerText != "O") {return 7;} else	
				// 1 столб
			if ( cells[0].innerText == "X" && cells[3].innerText == "X" && cells[6].innerText != "O") {return 6;} else	
			if ( cells[3].innerText == "X" && cells[6].innerText == "X" && cells[0].innerText != "O") {return 0;} else		
			if ( cells[0].innerText == "X" && cells[6].innerText == "X" && cells[3].innerText != "O") {return 3;} else
				// 2 столб
			if ( cells[1].innerText == "X" && cells[4].innerText == "X" && cells[7].innerText != "O") {return 7;} else		
			if ( cells[4].innerText == "X" && cells[7].innerText == "X" && cells[1].innerText != "O") {return 1;} else		
			if ( cells[1].innerText == "X" && cells[7].innerText == "X" && cells[2].innerText != "O") {return 2;} else
				// 3 столб
			if ( cells[2].innerText == "X" && cells[5].innerText == "X" && cells[8].innerText != "O") {return 8;} else		
			if ( cells[5].innerText == "X" && cells[8].innerText == "X" && cells[2].innerText != "O") {return 2;} else		
			if ( cells[2].innerText == "X" && cells[8].innerText == "X" && cells[5].innerText != "O") {return 5;} else
				// 1 диагональ
			if ( cells[0].innerText == "X" && cells[4].innerText == "X" && cells[8].innerText != "O") {return 8;} else	
			if ( cells[4].innerText == "X" && cells[8].innerText == "X" && cells[0].innerText != "O") {return 0;} else		
			if ( cells[0].innerText == "X" && cells[8].innerText == "X" && cells[4].innerText != "O") {return 4;} else
				// 2 диагональ
			if ( cells[2].innerText == "X" && cells[4].innerText == "X" && cells[6].innerText != "O") {return 6;} else		
			if ( cells[4].innerText == "X" && cells[6].innerText == "X" && cells[2].innerText != "O") {return 2;} else		
			if ( cells[2].innerText == "X" && cells[6].innerText == "X" && cells[4].innerText != "O") {return 4;} else 
				// клетка
			if ( cells[2].innerText == "") {return 2;} else if ( cells[6].innerText == "") {return 6;} else{
				alert ("Ничья!");
			}
		}
	</script>
 </body>
</html>